<div *ngIf="loading" class="cssload-container">
  <div class="cssload-speeding-wheel"></div>
</div>

<div *ngFor="let twiddit of twiddits">
  <div class="card w-25">
    <div class="card-header bg-transparent">
      <div class="row">
        <div class="col-10">
          <h5 id="header">@{{twiddit.user}}</h5>
        </div>
        <div class="col">
          <a class="nav-link" type="button" data-bs-toggle="modal" data-bs-target="#retwiddit" (click)="retwiddit(twiddit.id, twiddits)" title="Retwiddiar!">
            <span><i class="bi bi-recycle" id="icons-header"></i></span>
          </a>
        </div>
        <div class="col">
          <button class="nav-link" (click)="goInfoTwiddit(twiddit.id, twiddit.user)" title="View Twiddit!">
            <span><i class="bi bi-info-circle" id="icons-header"></i></span>
          </button>
        </div>
      </div>
    </div>
    <div class="card-body">
      <!-- <h5 class="card-title">Card title</h5> -->
      <p class="card-text">{{twiddit.text}}</p>
      <p class="card-text"><small class="text-muted">{{twiddit.creationDate}}</small></p>
    </div>
    <div class="card-footer bg-transparent" id="footer">
      <div class="row">
        <div class="col-sm center-block text-center">
          <p id="number">{{twiddit.number_of_replies}}</p>
          <button class="btn btn-warning" type="button" (click)="goInfoTwiddit(twiddit.id, twiddit.user)" title="View Replies!">
            <i class="bi bi-chat-fill" id="icons"></i> Replies
          </button>
        </div>
        <div class="col-sm center-block text-center">
          <p id="number">{{twiddit.number_of_likes}}</p>
          <button type="button" class="btn btn-info"
            data-bs-toggle="button" (click)="createLike(twiddit.id)" title="Create Like!">
            <i class="bi bi-star-fill" id="icons"></i> Likes
          </button>
        </div>
        <div class="col-sm center-block text-center">
          <p id="number">{{twiddit.number_of_dislikes}}</p>
          <button type="button" class="btn btn-danger"
            data-bs-toggle="button" (click)="createDislike(twiddit.id)" title="Create Dislike!">
            <i class="bi bi-trash-fill" id="icons"></i> Dislikes
          </button>
        </div>
      </div>
    </div>
    <!-- <img class="card-img-bottom" src="https://www.bizneo.com/blog/wp-content/uploads/2019/05/pruebas-psicometricas.webp" alt="Card image cap" height="300px" width="auto"> -->
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="retwiddit" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Retwiddit</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>
          <textarea class="form-control" placeholder="Tell us..." id="twiddit-text"></textarea>
          <label for="twiddit-text"></label>
        </form>
        <p>{{current | json}}</p>
      </div>
      <div class="modal-footer">
        <input class="form-control" type="file" accept="video/*, image/*" id="formFileMultiple" multiple>
        <button type="submit" class="btn btn-danger">Twiddit</button>
      </div>
    </div>
  </div>
</div>